<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %><%@ page contentType="text/html;charset=UTF-8" language="java" %><html lang="fr"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <meta http-equiv="X-UA-Compatible" content="ie=edge">    <title>Direo Template</title>    <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,600,700" rel="stylesheet">    <!-- inject:css-->    <link rel="stylesheet" href="css/bootstrap.css">    <link rel="stylesheet" href="vendor_assets/css/brands.css">    <link rel="stylesheet" href="vendor_assets/css/fontawesome.min.css">    <link rel="stylesheet" href="vendor_assets/css/jquery-ui.css">    <link rel="stylesheet" href="vendor_assets/css/jquery.mCustomScrollbar.css">    <link rel="stylesheet" href="vendor_assets/css/line-awesome.min.css">    <link rel="stylesheet" href="vendor_assets/css/magnific-popup.css">    <link rel="stylesheet" href="vendor_assets/css/owl.carousel.min.css">    <link rel="stylesheet" href="vendor_assets/css/select2.min.css">    <link rel="stylesheet" href="vendor_assets/css/slick.css">    <link rel="stylesheet" href="css/style.css">    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"          integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="          crossorigin=""/>    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/opencagedata/leaflet-opencage-geocoding@v2.0.0/dist/css/L.Control.OpenCageGeocoding.min.css" />    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />    <!-- endinject -->    <link rel="icon" type="image/png" sizes="32x32" href="../../../../../direohtml/src/img/fevicon.png"></head><body>    <section class="header-breadcrumb bgimage overlay overlay--dark">        <%@ include file="header.jsp" %>        <div class="breadcrumb-wrapper content_above">            <div class="container">                <div class="row">                    <div class="col-lg-12 text-center">                        <h1 class="page-title">Add Listing</h1>                        <nav aria-label="breadcrumb">                            <ol class="breadcrumb">                                <li class="breadcrumb-item"><a href="#">Home</a></li>                                <li class="breadcrumb-item active" aria-current="page">All Listings</li>                            </ol>                        </nav>                    </div>                </div>            </div>        </div><!-- ends: .breadcrumb-wrapper -->    </section>    <section class="add-listing-wrapper border-bottom section-bg section-padding-strict">        <div class="container">            <div class="row">                <form id="main-form" class="col-lg-10 offset-lg-1" method="post" action="../add-listing-traitement" enctype="multipart/form-data">                <div class="">                    <div class="atbd_content_module">                        <div class="atbd_content_module__tittle_area">                            <div class="atbd_area_title">                                <h4><span class="la la-user"></span>Informations Générales</h4>                            </div>                        </div>                        <div class="atbdb_content_module_contents">                            <div class="form-group">                                <label for="title" class="form-label">Titre</label>                                <input name="title" type="text" class="form-control" id="title" placeholder="Titre" required>                            </div>                            <div class="form-group">                                <label for="desc" class="form-label">Description</label>                                <textarea name="description" id="desc" rows="8" class="form-control" placeholder="Description"></textarea>                            </div>                            <div class="form-group">                                <label class="form-label">Pricing</label>                                <div class="pricing-option-inputs">                                    <input name="price" type="text" id="price-input" class="form-control" placeholder="Price of this listing Eg. 100">                                </div>                            </div><%--                                <div class="form-group">--%><%--                                    <label for="location" class="form-label">Région</label>--%><%--                                    <div class="select-basic">--%><%--                                        <select class="form-control" id="location">--%><%--                                            <option>Australia</option>--%><%--                                            <option>Sydney</option>--%><%--                                            <option>Newyork</option>--%><%--                                            <option>Los Angels</option>--%><%--                                        </select>--%><%--                                    </div>--%><%--                                </div>--%>                            <div class="form-group">                                <div class="select-basic2">                                    <label for="atbd_tags" class="form-label">Tags</label>                                    <select name="tags" class="form-control" id="atbd_tags" multiple="multiple"><%--                                            <option selected="selected">orange</option>--%><%--                                            <option>white</option>--%><%--                                            <option selected="selected">purple</option>--%>                                    </select>                                </div>                            </div>                        </div><!-- ends: .atbdb_content_module_contents -->                    </div><!-- ends: .atbd_content_module -->                </div><!-- ends: .col-lg-10 -->                <div class="col-lg-10 offset-lg-1">                    <div class="atbd_content_module">                        <div class="atbd_content_module__tittle_area">                            <div class="atbd_area_title">                                <h4><span class="la la-user"></span>Informations de contact</h4>                            </div>                        </div>                        <div class="atbdb_content_module_contents">                            <div class="form-group">                                <label for="phone_number" class="form-label">Numéro de téléphone</label>                                <input name="telephone_number" type="text" placeholder="Phone Number" id="phone_number" class="form-control" required>                            </div>                            <div class="form-group">                                <label for="contact_email" class="form-label">Email</label>                                <input name="email" type="email" id="contact_email" class="form-control" placeholder="Enter Email" required>                            </div>                            <div class="form-group">                                <label class="form-label">Social Information</label>                                <div id="social_info_sortable_container">                                    <div class="directorist atbdp_social_field_wrapper">                                        <div class="row m-bottom-20" id="social-form-fields">                                            <div class="col-sm-4">                                                <div class="form-group">                                                    <div class="select-basic">                                                        <select name="social_media" class="form-control">                                                            <option value="facebook">Facebook</option>                                                            <option value="instagram">Instagram</option>                                                            <option value="twitter">Twitter</option>                                                        </select>                                                    </div>                                                </div>                                            </div>                                            <div class="col-sm-6">                                                <div class="form-group">                                                    <input name="social_url" type="url" class="form-control directory_field atbdp_social_input" placeholder="eg. http://example.com" required="">                                                </div>                                            </div>                                            <div class="col-sm-2 d-flex align-items-center">                                                <span class="removeSocialField btn-danger" id="removeSocial" title="Remove this item"><i class="la la-times"></i></span>                                                <span class="adl-move-icon btn-secondary"><i class="la la-arrows"></i></span>                                            </div>                                        </div>                                    </div>                                </div>                                <button class="copy-btn btn btn-sm btn-secondary"><i class="la la-plus"></i> Add New</button>                            </div>                        </div><!-- ends: .atbdb_content_module_contents -->                    </div><!-- ends: .atbd_content_module -->                </div><!-- ends: .col-lg-10 -->                <div class="col-lg-10 offset-lg-1">                    <div class="atbd_content_module">                        <div class="atbd_content_module__tittle_area">                            <div class="atbd_area_title">                                <h4><span class="la la-calendar-check-o"></span> Location (Map)</h4>                            </div>                        </div>                        <div class="atbdb_content_module_contents">                            <label class="not_empty form-label">Set the Marker by clicking anywhere on the Map</label>                            <div id="map" style="height: 200px"></div>                            <div class="form-group">                                <label for="lat" class="form-label">latitude</label>                                <input class="form-control" type="text" name="lat" id="lat" onchange="traiterOnChange()"/>                            </div>                            <div class="form-group">                                <label for="lon" class="form-label">longitude</label>                                <input class="form-control" type="text" name="lon" id="lon" onchange="traiterOnChange()"/>                            </div>                            <div class="form-group">                                <label for="ville" class="form-label">ville</label>                                <input class="form-control" type="text" name="ville" id="ville"/>                            </div><%--                            <label>latitude<input type="text" name="lat" id="lat" size=12 value="0.0" onchange="traiterOnChange()"></label>--%><%--                            <label>longitude<input type="text" name="lon" id="lon" size=12 value="0.0" onchange="traiterOnChange()"></label>--%><%--                            <label>Ville<input type="text" name="ville" id="ville" value=""  size="58" readonly/></label>--%><%--                            <label>Région<input type="text" name="region" id="region" value=""  size="58" readonly/></label>--%>                            <div class="form-group">                                <label for="region" class="form-label">Région</label>                                <input class="form-control" type="text" name="region" id="region" list="régions" />                                <datalist id="régions">                                    <option>Tanger-Tétouan-Al Hoceïma</option>                                    <option>L'Oriental</option>                                    <option>Mercedes</option>                                    <option>Fès-Meknès</option>                                    <option>Rabat-Salé-Kénitra</option>                                    <option>Béni Mellal-Khénifra</option>                                    <option>Casablanca-Settat</option>                                    <option>Marrakech-Safi</option>                                    <option>Drâa-Tafilalet</option>                                    <option>Souss-Massa</option>                                    <option>Guelmim-Oued Noun</option>                                    <option>Laâyoune-Sakia El Hamra</option>                                    <option>Dakhla-Oued Ed-Dahab</option>                                </datalist>                            </div>                            <div class="form-group">                                <label for="addr" class="form-label">adresse</label>                                <input class="form-control" type="text" name="addr" id="addr"/>                            </div><%--                            <label>Addresse<input type="text" name="addr" value="" id="addr" size="58" readonly/></label>--%><%--                            <input type="submit" name="change" class="changeform_input" value="changer">--%>                        </div><!-- ends: .atbdb_content_module_contents -->                    </div><!-- ends: .atbd_content_module -->                </div><!-- ends: .col-lg-10 -->                <div class="col-lg-10 offset-lg-1">                    <div class="atbd_content_module">                        <div class="atbd_content_module__tittle_area">                            <div class="atbd_area_title">                                <h4><span class="la la-calendar-check-o"></span> Images & Video</h4>                            </div>                        </div>                        <div class="atbdb_content_module_contents">                            <div id="_listing_gallery">                                <div class="add_listing_form_wrapper" id="gallery_upload">                                    <div class="form-group text-center">                                        <!--  add & remove image links -->                                        <p class="hide-if-no-js">                                            <button class="upload-header btn btn-outline-secondary">Upload Preview Image</button>                                            <input id="ajaxfile" accept="image/*" type="file" name="preview_img"/><br/>                                        </p>                                    </div>                                    <div class="form-group text-center">                                        <!-- image container, which can be manipulated with js -->                                        <div class="listing-img-container">                                            <img src="images/no-image-uploaded.png" alt="No Image Found">                                            <p>No Images</p>                                        </div>                                        <!--  add & remove image links -->                                        <p class="hide-if-no-js">                                            <a href="#" id="listing_image_btn" class="btn btn-outline-primary m-right-10">                                                <input multiple accept="image/*" type="file" name="gallery_imgs"/><br/>                                                <span class="dashicons dashicons-format-image"></span> Upload Slider Images                                            </a>                                            <a id="delete-custom-img" class="btn btn-outline-danger hidden" href="#"> Remove Images</a><br>                                        </p>                                    </div>                                </div>                                <!--ends add_listing_form_wrapper-->                            </div>                            <div class="form-group m-top-30">                                <label for="videourl" class="not_empty form-label">Video Url</label>                                <input type="text" id="videourl" name="videourl" value="" class="form-control directory_field" placeholder="Only YouTube & Vimeo URLs.">                            </div>                        </div><!-- ends: .atbdb_content_module_contents -->                    </div><!-- ends: .atbd_content_module -->                </div><!-- ends: .col-lg-10 -->                <div class="col-lg-10 offset-lg-1 text-center">                    <div class="btn_wrap list_submit m-top-25">                        <button type="submit" class="btn btn-primary btn-lg listing_submit_btn">Submit listing</button>                    </div>                </div><!-- ends: .col-lg-10 -->                </form>            </div>        </div>    </section><!-- ends: .add-listing-wrapper -->    <footer class="footer-three footer-grey p-top-95">        <div class="footer-top p-bottom-25">            <div class="container">                <div class="row">                    <div class="col-lg-2 col-sm-6">                        <div class="widget widget_pages">                            <h2 class="widget-title">Company Info</h2>                            <ul class="list-unstyled">                                <li class="page-item"><a href="">About Us</a></li>                                <li class="page-item"><a href="">Conact Us</a></li>                                <li class="page-item"><a href="">Our Listings</a></li>                                <li class="page-item"><a href="">Our Pricings</a></li>                                <li class="page-item"><a href="">Support</a></li>                                <li class="page-item"><a href="">Privacy Policy</a></li>                            </ul>                        </div>                    </div><!-- ends: .col-lg-3 -->                    <div class="col-lg-3 d-flex justify-content-lg-center  col-sm-6">                        <div class="widget widget_pages">                            <h2 class="widget-title">Helpful Links</h2>                            <ul class="list-unstyled">                                <li class="page-item"><a href="">Join Direo</a></li>                                <li class="page-item"><a href="">Sign In</a></li>                                <li class="page-item"><a href="">How it Work</a></li>                                <li class="page-item"><a href="">Advantages</a></li>                                <li class="page-item"><a href="">Direo App</a></li>                                <li class="page-item"><a href="">Packages</a></li>                            </ul>                        </div>                    </div><!-- ends: .col-lg-3 -->                    <div class="col-lg-3 col-sm-6">                        <div class="widget widget_social">                            <h2 class="widget-title">Connect with Us</h2>                            <ul class="list-unstyled social-list">                                <li><a href=""><span class="mail"><i class="la la-envelope"></i></span> Contact Support</a></li>                                <li><a href=""><span class="twitter"><i class="fab fa-twitter"></i></span> Twitter</a></li>                                <li><a href=""><span class="facebook"><i class="fab fa-facebook-f"></i></span> Facebook</a></li>                                <li><a href=""><span class="instagram"><i class="fab fa-instagram"></i></span> Instagram</a></li>                                <li><a href=""><span class="gplus"><i class="fab fa-google-plus-g"></i></span> Google+</a></li>                            </ul>                        </div><!-- ends: .widget -->                    </div><!-- ends: .col-lg-3 -->                    <div class="col-lg-4 col-sm-6">                        <div class="widget widget_text">                            <h2 class="widget-title">Direo on Mobile</h2>                            <div class="textwidget">                                <p>Download the Direo app today so you can find your events anytime, anywhere.</p>                                <ul class="list-unstyled store-btns">                                    <li><a href="" class="btn-gradient btn-gradient-two btn btn-md btn-icon icon-left"><span class="fab fa-apple"></span> App Store</a></li>                                    <li><a href="" class="btn btn-dark btn-md btn-icon btn-icon"><span class="fab fa-android"></span> Google Play</a></li>                                </ul>                            </div>                        </div><!-- ends: .widget -->                    </div><!-- ends: .col-lg-3 -->                </div>            </div>        </div><!-- ends: .footer-top -->        <div class="footer-bottom">            <div class="container">                <div class="row">                    <div class="col-lg-12">                        <div class="footer-bottom--content">                            <a href="" class="footer-logo"><img src="../../../../../direohtml/src/img/logo.png" alt=""></a>                            <p class="m-0 copy-text">©2019 Direo. Made with <span class="la la-heart-o"></span> by <a href="">Aazztech</a></p>                            <ul class="list-unstyled lng-list">                                <li><a href="">English</a></li>                            </ul>                        </div>                    </div>                </div>            </div>        </div><!-- ends: .footer-bottom -->    </footer><!-- ends: .footer -->    <div class="modal fade" id="login_modal" tabindex="-1" role="dialog" aria-labelledby="login_modal_label" aria-hidden="true">        <div class="modal-dialog modal-dialog-centered" role="document">            <div class="modal-content">                <div class="modal-header">                    <h5 class="modal-title" id="login_modal_label"><i class="la la-lock"></i> Sign In</h5>                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">                        <span aria-hidden="true">&times;</span>                    </button>                </div>                <div class="modal-body">                    <form action="/" id="login-form">                        <input type="text" class="form-control" placeholder="Username or Email" required>                        <input type="password" class="form-control" placeholder="Password" required>                        <div class="keep_signed custom-control custom-checkbox checkbox-outline checkbox-outline-primary">                            <input type="checkbox" class="custom-control-input" name="keep_signed_in" value="1" id="keep_signed_in">                            <label for="keep_signed_in" class="not_empty custom-control-label">Keep me signed in</label>                        </div>scr                        <button type="submit" class="btn btn-block btn-lg btn-gradient btn-gradient-two">Sign In</button>                    </form>                    <div class="form-excerpts">                        <ul class="list-unstyled">                            <li>Not a member? <a href="">Sign up</a></li>                            <li><a href="">Recover Password</a></li>                        </ul>                        <div class="social-login">                            <span>Or connect with</span>                            <p><a href="" class="btn btn-outline-secondary"><i class="fab fa-facebook-f"></i> Facebook</a><a href="" class="btn btn-outline-danger"><i class="fab fa-google-plus-g"></i> Google</a></p>                        </div>                    </div>                </div>            </div>        </div>    </div>    <div class="modal fade" id="signup_modal" tabindex="-1" role="dialog" aria-labelledby="signup_modal_label" aria-hidden="true">        <div class="modal-dialog modal-dialog-centered" role="document">            <div class="modal-content">                <div class="modal-header">                    <h5 class="modal-title" id="signup_modal_label"><i class="la la-lock"></i> Sign Up</h5>                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">                        <span aria-hidden="true">&times;</span>                    </button>                </div>                <div class="modal-body">                    <form action="/" id="signup-form">                        <input type="email" class="form-control" placeholder="Email" required>                        <input type="password" class="form-control" placeholder="Password" required>                        <button type="submit" class="btn btn-block btn-lg btn-gradient btn-gradient-two">Sign Up</button>                    </form>                    <div class="form-excerpts">                        <ul class="list-unstyled">                            <li>Already a member? <a href="">Sign In</a></li>                            <li><a href="">Recover Password</a></li>                        </ul>                        <div class="social-login">                            <span>Or Signup with</span>                            <p><a href="" class="btn btn-outline-secondary"><i class="fab fa-facebook-f"></i> Facebook</a><a href="" class="btn btn-outline-danger"><i class="fab fa-google-plus-g"></i> Google</a></p>                        </div>                    </div>                </div>            </div>        </div>    </div>    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA0C5etf1GVmL_ldVAichWwFFVcDfa1y_c"></script>    <!-- inject:js-->    <script src="vendor_assets/js/jquery/jquery-1.12.3.js"></script>    <script src="vendor_assets/js/bootstrap/popper.js"></script>    <script src="vendor_assets/js/bootstrap/bootstrap.min.js"></script>    <script src="vendor_assets/js/jquery-ui.min.js"></script>    <script src="vendor_assets/js/jquery.barrating.min.js"></script>    <script src="vendor_assets/js/jquery.counterup.min.js"></script>    <script src="vendor_assets/js/jquery.magnific-popup.min.js"></script>    <script src="vendor_assets/js/jquery.mCustomScrollbar.concat.min.js"></script>    <script src="vendor_assets/js/jquery.waypoints.min.js"></script>    <script src="vendor_assets/js/masonry.pkgd.min.js"></script>    <script src="vendor_assets/js/owl.carousel.min.js"></script>    <script src="vendor_assets/js/select2.full.min.js"></script>    <script src="vendor_assets/js/slick.min.js"></script>    <script src="theme_assets/js/locator.js"></script>    <script src="theme_assets/js/main.js"></script>    <script src="theme_assets/js/map.js"></script>    <script src="js/add-listing.js"></script>    <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"            integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="            crossorigin="">    </script>    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>    <script>        var marker;        var mymap = L.map('map').setView([33.57, -7.58], 13);        L.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {            // Il est toujours bien de laisser le lien vers la source des données            attribution: 'données © <a href="//osm.org/copyright">OpenStreetMap</a>/ODbL - rendu <a href="//openstreetmap.fr">OSM France</a>',            minZoom: 1,            maxZoom: 20        }).addTo(mymap);        var iconeClient = L.icon({            iconUrl: "ressources/location.png",            iconSize: [50, 50],            iconAnchor: [25, 50],                //icone pour le client            popupAnchor: [0, -50]        });        function addr_search(inp)        {            var xmlhttp = new XMLHttpRequest();            var url = "https://nominatim.openstreetmap.org/search?format=json&limit=3&q="+inp+"&addressdetails=1";            xmlhttp.onreadystatechange = function()            {                if (this.readyState == 4 && this.status == 200)                {                    var myArr = JSON.parse(this.responseText);                    console.log(myArr)                    document.getElementById('addr').value = myArr[0].display_name;                    document.getElementById('ville').value = myArr[0].address.city                    document.getElementById('region').value = myArr[0].address.region                }            };            xmlhttp.open("GET", url, true);            xmlhttp.send();        }        function traiterOnChange(e)        {            console.log(e);            latitude = document.getElementById('lat').value            longitude = document.getElementById('lon').value            inp = latitude+","+longitude;            console.log(addr_search(inp));            if(marker)            {                mymap.removeLayer(marker);                marker = L.marker([latitude,longitude],{icon: iconeClient}).bindPopup("<b>terrain sélectionné</b>");                marker.addTo(mymap);                mymap.panTo(new L.LatLng(latitude,longitude));            }            else            {                marker = L.marker([latitude,longitude],{icon: iconeClient}).bindPopup("<b>terrain sélectionné</b>");                marker.addTo(mymap);                mymap.panTo(new L.LatLng(latitude,longitude));            }        }        mymap.on('click', function(e) {            console.log(e);            document.getElementById('lat').value = e.latlng.lat;            document.getElementById('lon').value  = e.latlng.lng;            inp = e.latlng.lat+","+e.latlng.lng;            console.log(addr_search(inp));            if(marker)            {                mymap.removeLayer(marker);                marker = L.marker([e.latlng.lat,e.latlng.lng],{icon: iconeClient}).bindPopup("<b>terrain sélectionné</b>");                marker.addTo(mymap);            }            else            {                marker = L.marker([e.latlng.lat,e.latlng.lng],{icon: iconeClient}).bindPopup("<b>terrain sélectionné </b>");                marker.addTo(mymap);            }        });        L.Control.geocoder().addTo(mymap);    </script>    <!-- endinject--></body></html>